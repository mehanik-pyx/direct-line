(function(){"use strict";var e={1618:function(e,t,s){var i=s(9242),n=s(3396);function l(e,t,s,i,l,r){const o=(0,n.up)("VForm");return(0,n.wg)(),(0,n.j4)(o)}const r={id:"form"};function o(e,t,s,i,l,o){const c=(0,n.up)("v-select");return(0,n.wg)(),(0,n.iD)("form",r,[(0,n.Wm)(c,{ref:"select1",url:l.url1,name:"categories",preselected:[27,29]},null,8,["url"]),(0,n.Wm)(c,{ref:"select2",url:l.url2,name:"projects"},null,8,["url"]),(0,n.Wm)(c,{ref:"select3",url:l.url2,name:"items"},null,8,["url"]),(0,n._)("button",{class:"__btn",id:"submit",onClick:t[0]||(t[0]=(...e)=>o.submit&&o.submit(...e))},"submit")])}var c=s(7139);const a={key:0,class:"select-root"},u={class:"select-wrap"},d={key:0,class:"__select"},h={class:"__select__content"},f=["onClick"],p={class:"controls"},m={class:"buttons"},v={class:"pagination"},_=(0,n.Uk)("pagination: ");function b(e,t,s,l,r,o){return r.showComponent?((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",u,[(0,n._)("div",{class:"select-text",onClick:t[0]||(t[0]=(...e)=>o.toggleShowList&&o.toggleShowList(...e))},(0,c.zw)(o.selectedText||"nothing selected"),1),(0,n.wy)((0,n._)("input",{class:"search-input",onClick:t[1]||(t[1]=(...e)=>o.toggleShowList&&o.toggleShowList(...e)),type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.search=e),placeholder:"search"},null,512),[[i.nr,r.search]]),r.showList?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filteredItems,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"__select__option",onClick:t=>o.toggleSelection(e),key:e.title},[(0,n._)("span",{class:(0,c.C_)(["__select__label",{active:e.isSelected}])},(0,c.zw)(e.title),3)],8,f)))),128))])])):(0,n.kq)("",!0)]),(0,n._)("div",p,[(0,n._)("div",m,[(0,n._)("button",{class:"__btn",onClick:t[3]||(t[3]=(0,i.iM)(((...e)=>o.selectAll&&o.selectAll(...e)),["prevent"]))},"select all"),(0,n._)("button",{class:"__btn",onClick:t[4]||(t[4]=(0,i.iM)(((...e)=>o.clear&&o.clear(...e)),["prevent"]))},"clear"),(0,n._)("button",{class:"__btn",onClick:t[5]||(t[5]=(0,i.iM)(((...e)=>o.submit&&o.submit(...e)),["prevent"]))},"apply")]),(0,n._)("div",v,[_,(0,n.wy)((0,n._)("input",{class:"pagination-limit",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>r.limit=e)},null,512),[[i.nr,r.limit,void 0,{number:!0}]]),(0,n._)("div",null,[(0,n._)("button",{class:"__btn",onClick:t[7]||(t[7]=(0,i.iM)(((...e)=>o.prev&&o.prev(...e)),["prevent"]))},"<"),(0,n._)("button",{class:"__btn",onClick:t[8]||(t[8]=(0,i.iM)(((...e)=>o.next&&o.next(...e)),["prevent"]))},">")])])])])):(0,n.kq)("",!0)}s(6699);var g=s(6265),w=s.n(g),y={name:"v-select",props:{url:{type:String,default:null,required:!0},name:{type:String,default:null,required:!1},preselected:{type:Array,default:null,required:!1}},data(){return{items:[],selected:[],showList:!1,search:"",showComponent:!1,limit:0,offset:0}},watch:{limit(){this.request()}},computed:{selectedText(){let e="";return this.selected.forEach((t=>e=e+t.title+", ")),e.slice(0,-2),e},filteredItems(){return this.items.filter((e=>e.title.toLowerCase().includes(this.search.trim().toLowerCase())))}},created(){this.request()},methods:{request(){w().post(this.url,{limit:this.limit,offset:this.offset},{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.items=e.data.message.data,this.items.forEach((e=>e.isSelected=!1)),this.preselected&&(this.selected=[],this.preselected.forEach((e=>{const t=this.items.find((t=>t.id===e));t&&this.addSelectedItem(t)})))})).catch(console.log).then((()=>this.showComponent=!0))},addSelectedItem(e){e.isSelected=!0,this.selected.push(e)},toggleSelection(e){if(e.isSelected){e.isSelected=!1;const t=this.selected.findIndex((t=>t.id===e.id));this.selected.splice(t,1)}else this.addSelectedItem(e)},selectAll(){this.items.forEach((e=>this.addSelectedItem(e)))},clear(){this.items.forEach((e=>e.isSelected=!1)),this.selected=[]},toggleShowList(){this.showList=!this.showList},submit(){const e=JSON.stringify(this.selected.map((e=>e.id)));console.log(e),w().get("/",{params:{[this.name]:e}})},prev(){this.offset-=this.limit,this.request()},next(){this.offset+=this.limit,this.request()}}},k=s(89);const C=(0,k.Z)(y,[["render",b],["__scopeId","data-v-74a91865"]]);var S=C,x={name:"VForm",components:{"v-select":S},data(){return{url1:"https://lobster.tools/api/v1/categories",url2:"https://lobster.tools/api/v1/projects"}},methods:{submit(){this.$refs.select1.submit(),this.$refs.select2.submit(),this.$refs.select3.submit()}}};const O=(0,k.Z)(x,[["render",o],["__scopeId","data-v-df8656fe"]]);var L=O,q={name:"App",components:{VForm:L}};const j=(0,k.Z)(q,[["render",l]]);var I=j;const D="Bearer BT3HK2NpCnyrKiDo";w().defaults.headers.post.authorization=D,(0,i.ri)(I).mount("#app")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,l){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],l=e[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&l||r>=l)&&Object.keys(s.O).every((function(e){return s.O[e](i[c])}))?i.splice(c--,1):(o=!1,l<r&&(r=l));if(o){e.splice(u--,1);var a=n();void 0!==a&&(t=a)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[i,n,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,l,r=i[0],o=i[1],c=i[2],a=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var u=c(s)}for(t&&t(i);a<r.length;a++)l=r[a],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(u)},i=self["webpackChunkdirect_line"]=self["webpackChunkdirect_line"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1618)}));i=s.O(i)})();
//# sourceMappingURL=app.481062f2.js.map